---
- name: Upload New Certificate to FortiWeb
  hosts: fortiweb
  gather_facts: false
  collections:
    - fortinet.fortiweb
  vars:

  tasks:

    - name: Upload pkcs12 certificate 
      # this tasks expects that a previous template was run
      # to get the certificate from ServiceNow, and that
      # the p12 certificate was placed in /tmp/cert.p12
      fwebos_certificate_local_import_certificate:
       action: add
       vdom: root
       type: PKCS12Certificate
       certificateWithKeyFile: /tmp/cert.p12
       password: PASSW0RD
